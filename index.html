<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You - Dec 13</title>
    <style>
        /* ==================== RESET & LAYOUT ==================== */
        body {
            margin: 0;
            padding: 0;
            background: #000;
            overflow: hidden;
            font-family: "Consolas", "Courier New", monospace; /* Programmer Vibe */
            height: 100vh;
            width: 100vw;
            user-select: none; /* Prevent highlighting */
        }

        /* ==================== BACKGROUND (Deep Space) ==================== */
        #universe {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at bottom, #1b2735 0%, #090a0f 100%);
            z-index: 0;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.7;
            animation: shine infinite alternate;
        }

        @keyframes shine {
            0% { opacity: 0.3; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }

        /* ==================== THE MOON (Realistic Vector) ==================== */
        .moon-container {
            position: absolute;
            top: 50px;
            left: 80px;
            width: 100px;
            height: 100px;
            z-index: 2;
            /* Rotated to match the screenshot crescent angle */
            transform: rotate(-35deg); 
        }

        .moon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: transparent;
            /* CSS Hack for smooth crescent shape */
            box-shadow: -15px 10px 0 2px #f0f0d0; 
            filter: drop-shadow(0 0 15px rgba(255, 255, 220, 0.4));
            animation: moonFloat 5s ease-in-out infinite alternate;
        }

        @keyframes moonFloat {
            0% { transform: translateY(0); }
            100% { transform: translateY(-10px); }
        }

        /* ==================== TEXT UI & TYPING EFFECT ==================== */
        #ui-layer {
            position: absolute;
            top: 25%;
            left: 10%;
            color: white;
            z-index: 10;
            pointer-events: none;
        }

        #title {
            font-size: 30px;
            font-weight: bold;
            color: #ffc0cb; /* Soft Pink */
            text-shadow: 0 0 10px rgba(255, 192, 203, 0.7);
            margin-bottom: 15px;
            min-height: 40px;
        }

        #message {
            font-size: 16px;
            line-height: 1.6;
            color: #dcdcdc;
            margin-bottom: 40px;
            white-space: pre-line;
            min-height: 60px;
        }

        .cursor {
            display: inline-block;
            width: 8px;
            height: 2px;
            background: white;
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* ==================== REAL TIME TIMER ==================== */
        #timer-label {
            font-size: 12px;
            letter-spacing: 2px;
            color: #888;
            text-transform: uppercase;
            border-bottom: 1px solid #444;
            display: inline-block;
            margin-bottom: 10px;
        }

        #countdown {
            font-family: "Arial", sans-serif;
            font-weight: bold;
            display: flex;
            gap: 20px;
        }

        .time-unit { text-align: center; }
        .time-val { 
            font-size: 40px; 
            color: #fff; 
            display: block; 
            text-shadow: 0 0 5px white;
        }
        .time-text { font-size: 12px; color: #aaa; }

        /* ==================== CANVAS (The Heart Tree) ==================== */
        canvas {
            position: absolute;
            bottom: 0;
            left: 0;
            z-index: 5;
        }

    </style>
</head>
<body>

    <!-- AUDIO SYSTEM (Hidden & Auto-trigger) -->
    <audio id="bgMusic" loop>
        <source src="https://github.com/hackerzhou/Love/raw/master/aud.mp3" type="audio/mp3">
    </audio>

    <!-- BACKGROUND -->
    <div id="universe"></div>
    <div class="moon-container"><div class="moon"></div></div>

    <!-- TEXT CONTENT -->
    <div id="ui-layer">
        <div id="title"></div>
        <div id="message"></div>
        
        <div id="timer-box">
            <div id="timer-label">The World Just Got Luckier Since</div>
            <div id="countdown">
                <!-- Javascript will fill this -->
            </div>
        </div>
    </div>

    <!-- TREE ANIMATION CANVAS -->
    <canvas id="canvas"></canvas>

<script>
    /* 
     =========================================================
     ADVANCED LOVE ENGINE v5.0 (Deep Logic)
     By: Your Assistant
     Logic: 
     1. Real-time Date calculation (13 Dec 2025 Target)
     2. Mathematical Fractal Tree with Bezier Heart Blooms
     3. Interactive Particle Background
     =========================================================
    */

    // --- SETTINGS ---
    const SETTINGS = {
        targetDate: "December 13, 2025 00:00:00",
        currentDateOverride: null, // Set date string to test, e.g. "December 13, 2025"
        startTree: false,
        musicStarted: false
    };

    // --- CANVAS SETUP ---
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    
    let width, height;
    function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // --- HELPER FUNCTIONS ---
    const random = (min, max) => Math.random() * (max - min) + min;
    
    // The Heart Formula (Programmer's Love)
    function drawHeartShape(ctx, x, y, r, color) {
        ctx.save();
        ctx.beginPath();
        ctx.translate(x, y);
        ctx.fillStyle = color;
        
        // Drawing loop based on formula
        for(let i = 0; i < Math.PI * 2; i += 0.1) {
            let hx = 16 * Math.pow(Math.sin(i), 3);
            let hy = -(13 * Math.cos(i) - 5 * Math.cos(2*i) - 2 * Math.cos(3*i) - Math.cos(4*i));
            ctx.lineTo(hx * r, hy * r);
        }
        ctx.fill();
        ctx.restore();
    }

    // --- 1. BACKGROUND STARS ---
    const universe = document.getElementById('universe');
    for (let i = 0; i < 100; i++) {
        let s = document.createElement('div');
        s.className = 'star';
        s.style.left = random(0, 100) + '%';
        s.style.top = random(0, 80) + '%';
        s.style.width = s.style.height = random(1, 3) + 'px';
        s.style.animationDuration = random(1, 3) + 's';
        universe.appendChild(s);
    }

    // --- 2. DATE & TYPING ENGINE ---
    const titleEl = document.getElementById('title');
    const msgEl = document.getElementById('message');
    const countEl = document.getElementById('countdown');
    
    let msgs = {
        normal: {
            t: "Coming Soon Special Day üéà",
            m: "My beautiful wife üíû\nCounting every second for your day...\nMay Allah bless you always. üçÄ"
        },
        bday: {
            t: "Happiest Birthday! üéÇ",
            m: "To my Queen üëë\nThe world is better because you are in it.\nI love you more than code. ‚ù§Ô∏è"
        }
    };

    // Check Time
    const target = new Date(SETTINGS.targetDate).getTime();
    let content = msgs.normal;
    let isBday = false;

    function timerLogic() {
        const now = SETTINGS.currentDateOverride ? new Date(SETTINGS.currentDateOverride).getTime() : new Date().getTime();
        const dist = target - now;

        if (dist < 0) {
            // It IS the birthday (or past)
            isBday = true;
            content = msgs.bday;
            countEl.innerHTML = `<div class='time-val' style='font-size:30px; color:#FFC0CB'>The Day is Here! ‚ù§Ô∏è</div>`;
            document.getElementById('timer-label').innerText = "Celebration Mode On";
        } else {
            // Future
            const d = Math.floor(dist / (1000 * 60 * 60 * 24));
            const h = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((dist % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((dist % (1000 * 60)) / 1000);

            countEl.innerHTML = `
                <div class="time-unit"><span class="time-val">${d}</span><span class="time-text">Days</span></div>
                <div class="time-unit"><span class="time-val">${h}</span><span class="time-text">Hours</span></div>
                <div class="time-unit"><span class="time-val">${m}</span><span class="time-text">Minutes</span></div>
                <div class="time-unit"><span class="time-val">${s}</span><span class="time-text">Seconds</span></div>
            `;
        }
    }
    setInterval(timerLogic, 1000);
    timerLogic(); // First run

    // Typewriter Effect
    async function typeWriter(text, element, speed) {
        for (let i = 0; i < text.length; i++) {
            element.innerHTML += text.charAt(i);
            await new Promise(r => setTimeout(r, speed));
        }
        // Add Cursor at end
        element.innerHTML += "<span class='cursor'></span>";
    }

    // Start Typing sequence after a delay
    setTimeout(async () => {
        await typeWriter(content.t, titleEl, 100);
        await typeWriter(content.m, msgEl, 50);
        SETTINGS.startTree = true; // Trigger tree animation
    }, 1000);


    // --- 3. THE FRACTAL TREE ENGINE (Advanced) ---
    const blooms = [];
    
    // A branch object to manage growth animation
    class Branch {
        constructor(x, y, len, angle, width, color) {
            this.x = x;
            this.y = y;
            this.len = len;
            this.angle = angle;
            this.width = width;
            this.color = color;
            this.grow = 0;
            this.speed = 1.5; 
            this.finished = false;
            this.split = false;
        }

        update() {
            if (this.grow < this.len) {
                this.grow += this.speed;
            } else {
                this.finished = true;
            }
        }

        draw() {
            ctx.save();
            ctx.beginPath();
            ctx.strokeStyle = this.color;
            ctx.lineWidth = this.width;
            ctx.lineCap = 'round';
            
            let endX = this.x + this.grow * Math.sin(this.angle);
            let endY = this.y - this.grow * Math.cos(this.angle);
            
            ctx.moveTo(this.x, this.y);
            ctx.lineTo(endX, endY);
            ctx.stroke();
            ctx.restore();
            
            return { x: endX, y: endY };
        }
    }

    let branches = [];
    
    function createTree() {
        // Root
        let rootX = width > 800 ? width - 300 : width/2; // Align Right like image or center on mobile
        branches.push(new Branch(rootX, height, 130, 0, 16, 'rgb(90, 60, 40)'));
    }

    function animateCanvas() {
        requestAnimationFrame(animateCanvas);
        if (!SETTINGS.startTree) return;

        // Logic to create branches iteratively (Breath-First Generation)
        for (let i = branches.length - 1; i >= 0; i--) {
            let b = branches[i];
            b.update();
            let tip = b.draw(); // Draws the current growth
            
            // Split logic
            if (b.finished && !b.split) {
                b.split = true;
                
                // Only grow until it gets thin
                if (b.width > 0.5) {
                    // 2 branches
                    let rightAngle = b.angle + random(0.2, 0.6);
                    let leftAngle = b.angle - random(0.2, 0.6);
                    let nextLen = b.len * 0.75;
                    
                    branches.push(new Branch(tip.x, tip.y, nextLen, rightAngle, b.width * 0.7, 'rgb(90, 60, 40)'));
                    branches.push(new Branch(tip.x, tip.y, nextLen, leftAngle, b.width * 0.7, 'rgb(90, 60, 40)'));
                } else {
                    // Add Bloom (Heart)
                    blooms.push({
                        x: tip.x, y: tip.y,
                        r: 0, maxR: random(0.5, 1.2),
                        c: `hsla(${random(320, 350)}, 90%, 60%, 0.9)`,
                        pulse: random(0, 100)
                    });
                }
            }
        }

        // Draw Blooms
        blooms.forEach(bloom => {
            if (bloom.r < bloom.maxR) bloom.r += 0.02;
            // Pulsing effect
            let pScale = 1 + 0.1 * Math.sin(Date.now() * 0.003 + bloom.pulse);
            drawHeartShape(ctx, bloom.x, bloom.y, bloom.r * pScale, bloom.c);
        });
    }

    // Init
    createTree();
    animateCanvas();

    // --- 4. SMART AUDIO HANDLING ---
    // Hacking user interaction requirement without ugly buttons
    document.body.addEventListener('mousemove', function() {
        let audio = document.getElementById('bgMusic');
        if (!SETTINGS.musicStarted) {
            audio.volume = 0.6;
            let promise = audio.play();
            if (promise !== undefined) {
                promise.then(_ => {
                    SETTINGS.musicStarted = true;
                }).catch(error => {
                    // Auto-play was prevented
                });
            }
        }
    });
    
    document.body.addEventListener('touchstart', function() {
        let audio = document.getElementById('bgMusic');
        if (!SETTINGS.musicStarted) {
            audio.play();
            SETTINGS.musicStarted = true;
        }
    });

</script>
</body>
</html>
